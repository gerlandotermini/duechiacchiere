function clear_field(e){var t;if(!e)var e=window.event;if(e.target)t=e.target;else if(e.srcElement)t=e.srcElement;if(t.value==t.defaultValue&&t.className.indexOf("button")==-1)t.value=""}function reset_field(e){var t;if(!e)var e=window.event;if(e.target)t=e.target;else if(e.srcElement)t=e.srcElement;if(t.value=="")t.value=t.defaultValue}function comment_reply(e,t){var n=document.getElementById("comment-text");var r=document.getElementById("comment_parent");comment_form=document.getElementById("comment-form");current_comment=document.getElementById("comment-"+t);comment_form.parentNode.removeChild(comment_form);current_comment.appendChild(comment_form);r.value=t;if(n.value==n.defaultValue)n.value="@"+e+": ";else n.value+="\n@"+e+": ";n.focus()}function current_scroll_y(){if(document.documentElement&&document.documentElement.scrollTop){return document.documentElement.scrollTop}else{return document.body.scrollTop}}function smooth_top(){var e=current_scroll_y();if(e>2){step=Math.round(e/2);window.scrollBy(0,-step);setTimeout("smooth_top()",25)}else{window.scrollBy(0,-e)}return false}function check_location(){var e=current_scroll_y();var t=document.getElementById("toggle-navigation");var n=document.documentElement.clientWidth?document.documentElement.clientWidth:window.innerWidth;back_to_top_button=document.getElementById("back-to-top");if(e>=300){back_to_top_button.style.display="block"}else{if(back_to_top_button.style.display=="block")back_to_top_button.style.display="none"}if(t&&n<=768&&(document.getElementById("top-navigation").style.paddingTop==""||parseInt(document.getElementById("top-navigation").style.paddingTop)>window.pageYOffset)){document.getElementById("top-navigation").style.paddingTop=window.pageYOffset+"px";document.getElementById("top-navigation").style.height=Math.max(document.getElementById("page-wrapper").offsetHeight-window.pageYOffset,700)+"px"}if(!t&&n<=768){var r=document.getElementById("search-form-fieldset");var i=document.createElement("a");i.setAttribute("href","#");i.setAttribute("id","toggle-navigation");i.setAttribute("onclick","tn=document.getElementById('top-navigation');tn.style.height=Math.max(document.getElementById('page-wrapper').offsetHeight-window.pageYOffset, 700)+'px';tn.style.paddingTop=window.pageYOffset+'px';if(tn.style.display=='none'){tn.style.display='block';this.style.backgroundPosition='-75px 0'}else{tn.style.display='none';this.style.backgroundPosition='-50px 0'}return false;");i.className="icon toggle-navigation full-screen-hidden";i.innerHTML="Menu";document.getElementById("top-navigation").style.display="none";r.appendChild(i)}else if(t&&n>768){t.parentNode.removeChild(t);document.getElementById("top-navigation").style.height="";document.getElementById("top-navigation").style.paddingTop="";document.getElementById("top-navigation").style.display="block"}setTimeout("check_location()",50)}function tabbed_top_navigation(){var e=document.getElementById("top-navigation").getElementsByTagName("A");var t=document.getElementById("top-navigation").getElementsByTagName("UL");for(var n=0;n<e.length;n++){e[n].onfocus=function(){if(typeof this.parentNode.parentNode!="undefined"&&this.parentNode.parentNode.id!="top-navigation")this.parentNode.parentNode.className="keyfocus"};e[n].onblur=function(){if(typeof this.parentNode.parentNode!="undefined"&&this.parentNode.parentNode.id!="top-navigation")this.parentNode.parentNode.className="keyunfocus"};e[n].onmouseover=function(){for(var n=0;n<t.length;n++)t[n].className="keyunfocus";for(var n=0;n<e.length;n++)e[n].blur()}}}function check_cleartype_font(){if(typeof screen.fontSmoothingEnabled!="undefined")return screen.fontSmoothingEnabled;else try{var e=document.createElement("canvas");e.width="35";e.height="35";e.style.display="none";document.body.appendChild(e);var t=e.getContext("2d");t.textBaseline="top";t.font="32px Arial";t.fillStyle="black";t.strokeStyle="black";t.fillText("O",0,0);for(var n=8;n<=32;n++){for(var r=1;r<=32;r++){var i=t.getImageData(r,n,1,1).data;var s=i[3];if(s!=255&&s!=0)return true}}document.body.style.fontFamily="'Trebuchet MS',Arial,Helvetica,sans-serif";document.body.style.fontSize=".95em"}catch(o){return null}}window.onload=function(e){check_cleartype_font();check_location();tabbed_top_navigation();for(i in{input:"",textarea:""}){elements=document.getElementsByTagName(i);for(j in elements){element=elements[j];if(element.addEventListener&&(element.type=="text"||element.type=="textarea")){element.addEventListener("focus",clear_field,false);element.addEventListener("blur",reset_field,false)}else if(element.attachEvent&&(element.type=="text"||element.type=="textarea")){element.attachEvent("onfocus",clear_field);element.attachEvent("onblur",reset_field)}}}}