window.addEventListener("DOMContentLoaded",e=>{let a=(e,t)=>{e.addEventListener("click",t,!1),e.addEventListener("touchstart",t,{passive:!0}),e.addEventListener("touchend",e=>{e.preventDefault()})};var t=e=>{e=("; "+document.cookie).split("; "+e+"=");return 2===e.length?decodeURIComponent(e.pop().split(";").shift()):""};const n=document.getElementById("backtotop");if(window.onscroll=()=>{600<document.body.scrollTop||600<document.documentElement.scrollTop?n.classList.add("active"):n.classList.remove("active")},document.body.classList.contains("single")){let n=()=>{var e=document.getElementById("restore-reply-button");null!==e&&(e.classList.remove("visually-hidden"),e.removeAttribute("id"))};document.querySelectorAll(".comment-reply-link").forEach(e=>{a(e,function(e){e.preventDefault(),n(),e.currentTarget.setAttribute("id","restore-reply-button"),e.currentTarget.classList.add("visually-hidden");var t=document.getElementById("reply-title"),t=(t.hasAttribute("data-original-title")||t.setAttribute("data-original-title",t.textContent),t.textContent=e.currentTarget.getAttribute("data-replyto"),document.getElementById("comment_parent").value=e.currentTarget.getAttribute("data-commentid"),document.getElementById("comment-submit")),t=(t.hasAttribute("data-original-value")&&(t.value=t.getAttribute("data-original-value")),document.getElementById("comment"));t.style.display="block","[##like##]"==t.value&&(t.value=""),document.getElementById("like-comment-reply").style.display="block",e.currentTarget.closest("li").appendChild(document.getElementById("comment-form").parentElement),document.getElementById("cancel-comment-reply").style.display="block",document.getElementById("comment").focus()})});var l=document.getElementById("cancel-comment-reply"),l=(null!==l&&a(l,function(e){e.preventDefault(),n(),document.getElementById("cancel-comment-reply").style.display="none";e=document.getElementById("reply-title"),e.textContent=e.getAttribute("data-original-title"),e=document.getElementById("comment-submit"),e.hasAttribute("data-original-value")&&(e.value=e.getAttribute("data-original-value")),e=document.getElementById("comment");e.style.display="block","[##like##]"==e.value&&(e.value=""),document.getElementById("like-section").style.display="block",document.getElementById("comment_parent").value=0,document.getElementById("comments").appendChild(document.getElementById("comment-form").parentElement),document.getElementById("comment").focus()}),document.getElementById("comment-form").addEventListener("submit",e=>{e.preventDefault();let t=!0;e.target.querySelectorAll("[required]").forEach(e=>{t=t&&""!=e.value.trim()}),(t=e.target.querySelector("#email")&&null==e.target.querySelector("#email").value.toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)?!1:t)?e.target.submit():(document.getElementById("comment-submit").classList.add("shake"),setTimeout(()=>{document.getElementById("comment-submit").classList.remove("shake")},500))}),document.getElementById("like-comment-reply"));null!==l&&a(l,function(e){e.preventDefault();e=document.getElementById("comment"),e.style.display="none",e.value="[##like##]",e=document.getElementById("reply-title"),e.hasAttribute("data-original-title")||e.setAttribute("data-original-title",e.textContent),e.textContent="Ti Ã¨ piaciuto questo post? Dimmi chi sei.",e=document.getElementById("comment-submit");e.hasAttribute("data-original-value")||e.setAttribute("data-original-value",e.value),e.value="Mi piace",document.getElementById("cancel-comment-reply").style.display="block",document.getElementById("like-section").style.display="none",document.getElementById("like-section").after(document.getElementById("comment-form").parentElement),document.getElementById("author").focus()})}void 0!==duechiacchiere.COOKIEHASH&&(null!==document.getElementById("author")&&(document.getElementById("author").value=t("comment_author_"+duechiacchiere.COOKIEHASH)),null!==document.getElementById("email")&&(document.getElementById("email").value=t("comment_author_email_"+duechiacchiere.COOKIEHASH)),null!==document.getElementById("url"))&&(document.getElementById("url").value=t("comment_author_url_"+duechiacchiere.COOKIEHASH));const o=document.getElementById("mobile-nav-button"),r=document.getElementById("mobile-search-button"),c=document.getElementById("menu-overlay");let i=0,d=(e,t)=>{"touchstart"!=e.type&&e.preventDefault();var n=document.getElementById("primary-menu");if(null===n||null===c||null===o)return!1;"close"==t||o.classList.contains("active")?(n.classList.remove("active"),o.classList.remove("active"),u(e,"hide")):"open"!=t&&o.classList.contains("active")||(s(e,"close",!0),n.classList.add("active"),o.classList.add("active"),u(e,"show"))},s=(e,t,n)=>{n||d(e,"close"),"close"==t||r.classList.contains("active")?(r.classList.remove("active"),u(e,"hide"),n?document.getElementById("search-form").style.zIndex="initial":setTimeout(()=>{r.classList.contains("active")||(document.getElementById("search-form").style.zIndex="initial")},1010)):"open"!=t&&r.classList.contains("active")||(r.classList.add("active"),document.getElementById("search-form").style.zIndex="475",document.getElementById("search-field").focus(),document.getElementById("search-field").closest(".widget").scrollIntoView(),u(e,"show"))},u=(e,t)=>{"hide"==t?(c.classList.remove("active"),document.body.style.paddingRight=0):(c.classList.add("active"),i=document.documentElement.clientWidth,document.body.style.paddingRight=document.documentElement.clientWidth-i+"px")};a(o,e=>{d(e,"toggle")}),a(r,e=>{s(e,"toggle",!1)}),a(c,e=>{u(e,"hide"),d(e,"close"),s(e,"close",!1)}),document.querySelectorAll("#primary-menu .menu-item-has-children").forEach(n=>{var e=n.childNodes[0].textContent;let t="il ",l="dal";if(-1!=["a","e","i","o","u"].indexOf(e.charAt(0))?(t="l'",l+="l'"):"a"==e.slice(-1)?(t="la ",l+="la "):l+=" ",n.querySelector("a").setAttribute("aria-expanded","false"),n.querySelector("a").insertAdjacentHTML("afterend",'<a class="svg open-submenu" href="#" aria-expanded="false" aria-haspopup="true"><span class="visually-hidden"> apri il sottomenu per '+t+e+"</span></a>"),0===parseInt(window.getComputedStyle(document.body,"::before").getPropertyValue("padding"))&&n.querySelector(".sub-menu").insertAdjacentHTML("afterbegin",'<li class="menu-item"><a class="svg close-submenu" href="#">esci '+l+e+"</a></li>"),n.addEventListener("mouseover",e=>{n.querySelectorAll(":scope > a").forEach(e=>{e.setAttribute("aria-expanded","true")})}),n.addEventListener("mouseout",e=>{n.querySelectorAll(":scope > a").forEach(e=>{e.setAttribute("aria-expanded","false")})}),a(n.querySelector(".open-submenu"),e=>{"touchstart"!=e.type&&e.preventDefault(),n.classList.add("active"),n.querySelectorAll(":scope > a").forEach(e=>{e.setAttribute("aria-expanded","true")})}),n.querySelectorAll(".close-submenu").forEach(e=>{a(e,e=>{"touchstart"!=e.type&&e.preventDefault(),n.classList.remove("active"),n.querySelectorAll(":scope > a").forEach(e=>{e.setAttribute("aria-expanded","false")}),1===parseInt(window.getComputedStyle(document.body,":before").getPropertyValue("padding"))&&n.querySelector("a").focus()})}),1===parseInt(window.getComputedStyle(document.body,"::before").getPropertyValue("padding"))){let t=!1;n.querySelector(".sub-menu").addEventListener("focusout",e=>{setTimeout(()=>{t=!1,((t,n)=>{var l=[];if(t.parentNode){let e=t.parentNode.firstChild;for(;e;)1!==e.nodeType||e===t||n&&!e.classList.contains(n)||l.push(e),e=e.nextSibling}return l})(e.target.parentElement).forEach(e=>{t=t||document.activeElement.parentElement===e}),t||(n.classList.remove("active"),n.querySelectorAll(":scope > a").forEach(e=>{e.setAttribute("aria-expanded","false")}))},10)})}}),document.body.addEventListener("keyup",e=>{"Escape"==e.key&&document.querySelectorAll(".menu-item-has-children").forEach(e=>{e.classList.remove("active"),e.querySelector(".open-submenu").setAttribute("aria-expanded","false")})});const m=document.getElementById("search-field"),y=document.getElementById("search-category"),p=document.getElementById("live-results"),g="//"+window.location.hostname+"/wp-json/wp/v2/posts?per_page=20&search=",h=document.createElement("textarea");let v=0;m.addEventListener("input",e=>{m.value.length<3||(0!=v&&clearTimeout(v),v=setTimeout(()=>{fetch(g+encodeURIComponent(m.value)+(null!=y?"&categories="+y.value:"")).then(e=>{if(e.ok)return e.json();throw new Error("Network response was not ok")}).then(e=>{p.innerHTML="",0<e.length?e.forEach(e=>{h.innerHTML=e.title.rendered;var t=document.createElement("li"),n=document.createElement("a");n.href=e.link,n.textContent=h.value,t.appendChild(n),p.appendChild(t)}):((e=document.createElement("li")).textContent="Nessun risultato trovato",p.appendChild(e)),p.style.display="block",m.setAttribute("aria-expanded","true")}).catch(e=>{console.error("There was a problem with the fetch operation:",e)})},500))}),document.addEventListener("click",function(e){p.contains(e.target)||document.getElementById("search-field").contains(e.target)||(p.style.display="none",m.setAttribute("aria-expanded","false"))}),document.querySelectorAll("#main-wrapper a").forEach(e=>{var t;e.getAttribute("href")&&-1==e.hostname.indexOf(location.hostname.replace("www.",""))&&(e.target="_blank",e.querySelector(".visually-hidden")||e.insertAdjacentHTML("beforeend",'<span class="visually-hidden"> (apre una nuova finestra)</span>'),(t=(e.getAttribute("rel")||"").split(" ")).includes("noopener")||t.push("noopener"),e.setAttribute("rel",t.join(" ").trim()))});l=new Date,t=document.querySelector("#widget-back-in-time ul");t&&t.insertAdjacentHTML("beforeend",'<li><a href="/?day='+String(l.getDate())+"&amp;monthnum="+String(l.getMonth()+1)+'&amp;year=0" rel="nofollow">Oggi nel passato</a></li>')});